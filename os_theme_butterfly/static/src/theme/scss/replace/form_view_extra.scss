
.o_form_view {
  @include media-breakpoint-up(md) {
    display: flex;
    flex-flow: column nowrap;
    min-height: 100%;
  }

  .o_form_sheet_bg {
    flex: 1 0 auto;

    > .o_form_sheet {

      .ribbon-top-right {
        margin-top: 0;
        right: 0;
        top: -2px;
      }

      @include make-container();
      padding: $o-sheet-vpadding;
      @include o-form-sheet-inner-right-padding;
      @include o-form-sheet-inner-left-padding;

      > .o_selection {
        float: right;
      }
    }
  }

  .o_td_label .o_form_label:not(.o_status), .o_checkbox_optional_field > .o_form_label {
    min-height: 23px;
  }

  td:not(.o_field_cell) .o_form_uri > span:first-child {
    display: inline-block;
    padding: 1px 0;
    margin-bottom: 1px;
  }

  // Title & avatar
  .oe_title {
    color: $headings-color;
    @include media-breakpoint-up(vsm, $o-extra-grid-breakpoints) {
      padding-right: $o-innergroup-rpadding;
    }

    h1 {
      min-height: 55px;
    }

    h2 {
      min-height: 42px;
    }
  }

  .oe_avatar + .oe_title {
    padding-right: $o-avatar-size + 10;
  }

  // Groups
  .o_group {
    @mixin o-generate-groups($n) {
      @for $i from 1 through $n {
        .o_group_col_#{$i} {
          @include media-breakpoint-down(md) {
            width: 100%;
          }
        }
      }
    }
    @include o-generate-groups($o-form-group-cols);

    &.o_inner_group {
      > tbody > tr > td {
        padding: 0 $o-innergroup-rpadding 0 0;
      }
    }

    @include media-breakpoint-up(vsm, $o-extra-grid-breakpoints) {
      .o_field_widget {
        &.o_text_overflow {
          width: 1px !important;
          min-width: 100%;
        }
      }

      .o_form_label {
        margin-bottom: $o-form-spacing-unit;
      }
    }
    @include media-breakpoint-down(md) {
      &.o_label_nowrap .o_form_label {
        white-space: normal;
      }
    }
  }

  // Labels
  .o_form_label {
    &.o_form_label_empty, &.o_form_label_false {
      opacity: 0.5;
      font-weight: $font-weight-normal;
    }

    @include media-breakpoint-down(sm) {
      font-size: $os-font-size-base-touch;
    }
  }

  // Notebooks
  .o_notebook {
    > .o_notebook_headers {
      @extend .d-flex;

      > .nav.nav-tabs > .nav-item {
        white-space: nowrap;
      }

    }

    > .tab-content {

      > .tab-pane {

        > :first-child {


          &.oe_form_field_html {
            border: none;

            .note-editor.panel {
              border: none;
            }

            .note-toolbar.panel-heading {
              @include o-form-sheet-inner-left-padding;
              @include o-form-sheet-inner-right-padding;
              border-top: none;
              padding-top: 0;
              background: white;
            }

            .note-editing-area, .o_readonly {
              padding: $card-spacer-y $card-spacer-x;
              @include o-form-sheet-inner-left-padding;
              @include o-form-sheet-inner-right-padding;
            }

            .note-editable.panel-body {
              padding: 0;
            }


            + .oe_clear:last-child {
              margin-bottom: -$o-horizontal-padding - $o-sheet-vpadding - $o-form-spacing-unit;
            }
          }

          &.o_field_x2many.o_field_x2many_list,
          &.o_field_widget.o_invisible_modifier + .o_field_x2many.o_field_x2many_list {
            display: block;
            width: auto;
            margin-top: -$o-horizontal-padding;

            tr > :first-child.o_handle_cell {
              padding-left: 0.3rem;
            }
          }
        }
      }
    }

    &:last-child > .tab-content {
      border-bottom: none;
    }
  }


  @include media-breakpoint-down(sm) {
    .o_notebook .o_notebook_headers {
      overflow-x: auto;

      &::-webkit-scrollbar {
        display: none;
      }

      .nav.nav-tabs {
        flex-flow: row nowrap;
      }
    }
    .o_cp_buttons {
      width: 100%;

      div, .o-kanban-button-new {
        width: 100%;
      }
    }
  }

  .o_field_widget .o_list_table {
    &.table-striped {
      > tbody {
        > tr:not(.o_data_row) > td {
          border-top: none;
        }
      }

      > tfoot > tr {

        > td {
          border: none;

          &:empty {
            padding: 0;
          }
        }
      }
    }
  }


  // Status Bar
  .o_form_statusbar {
    > .o_statusbar_status > .o_arrow_button {
      font-weight: $font-weight-bold;

      &:first-of-type {
        padding-right: $o-horizontal-padding;
      }
    }

    @include media-breakpoint-down(sm) {
      > .o_statusbar_buttons > .btn {
        margin: 0;
        padding: $os-touch-btn-padding;
      }
    }
  }

}

.modal .modal-dialog {
  .o_form_view {
    @include media-breakpoint-down(md) {
      .o_group.o_inner_group > tbody > tr > td.o_td_label {
        min-width: 100px;
      }
    }
  }

  &.modal-sm .o_form_view {
    .o_group {
      @include form-break-table;
    }
  }
}

.o_form_view.o_xxs_form_view {
  .o_group {
    @include media-breakpoint-down(sm) {
      &.o_inner_group:not(.oe_subtotal_footer) > tbody > tr > td {
        > .o_field_widget {
          margin-bottom: $o-form-spacing-unit * 4;
        }
      }
    }

    .o_td_label .o_form_label {
      font-weight: $font-weight-normal;
    }
  }

  .o_form_label {
    margin-top: 3px;
    font-size: $o-label-font-size-factor * $os-font-size-base-touch;
    font-weight: $font-weight-normal;
    color: $light-500;
  }
}