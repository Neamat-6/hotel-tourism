/// Logo
/////////////////////////
.logo {
  &-link {
    position: relative;
    display: inline-block;
    align-items: center;
  }

  &-dark {
    opacity: 1;

    .tc-light &, .is-dark &, .is-theme & {
      opacity: 0;
    }
  }

  &-light {
    opacity: 0;

    .tc-light &, .is-dark &, .is-theme & {
      opacity: 1;
    }
  }

  &-img {
    max-height: $logo-height;

    &-lg {
      max-height: $logo-height-lg;
    }

    &-sm {
      max-height: $logo-height-sm;
    }

    &-icon {
      max-height: $logo-height-icon;
    }

    &:not(:first-child) {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
    }
  }
}

/// Headers
////////////////////////////
@mixin icon-active {
  opacity: 1;
  height: 116%;
  width: 116%;
}

.os {
  &-header {
    background: $header-bg-color;
    border-bottom: 1px solid $header-border-bottom;
    padding: 0 $header-main-gap-x;
    box-shadow: 0 1px 3px 0 rgba($base-color, 0.05);
    z-index: 1010;


    &-details {
      flex-grow: 1;
    }

    &-toolsbar {
      padding: 0 $header-main-gap-x;
    }

    &.is-light:not([class*=bg-]) {
      background: $white;
    }

    &.is-dark:not([class*=bg-]) {
      background: $header-bg-dark-color;
      border-color: $header-border-dark-bottom;
    }

    .dark-mode &, {
      background: $header-bg-dark-color !important;
      border-color: $header-border-dark-bottom !important;
    }


    &.is-theme:not([class*=bg-]) {
      background: $header-bg-theme-color;
      border-color: $header-border-theme-bottom;
    }


    &-toolsbar {
      background: $header-bg-color;
      border-bottom: 1px solid $header-border-bottom;
      box-shadow: 0 1px 3px 0 rgba($base-color, 0.05);
      z-index: 1000;
      transform-origin: left top;
      transform: scaleY(0);
      transition: all 0.5s ease-in-out;
      position: fixed;
      height: $header-tools-height;
      top: $header-height +1px;
      left: 0;
      right: 0;


      &.is-light:not([class*=bg-]) {
        background: $white;
      }


      &.is-dark:not([class*=bg-]) {
        background: $header-bg-dark-color;
        border-color: $header-border-dark-bottom;
      }

      .dark-mode &, {
        background: $header-bg-dark-color !important;
        border-color: $header-border-dark-bottom !important;
      }


      &.is-theme:not([class*=bg-]) {
        background: $header-bg-theme-color;
        border-color: $header-border-theme-bottom;
      }


      &.show {
        transform: scaleY(1);
      }

      &.is-fixed {
        transform: scaleY(1);
      }

      &-wrapper {
        position: relative;
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
        align-items: center;
        margin: 0 -.25rem;
        background: transparent;
        border: 0;
        height: 100%;

        ul {
          position: relative;
          width: 100%;
        }

        .dropdown-menu {
          top: $header-tools-height !important;
          margin-top: 0 !important;
        }


      }

      &-left {
        position: relative;
      }

      &-right {
        position: relative;
      }
    }


    &-fixed {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      min-width: $header-min-width;

      + .os-content {
        margin-top: $header-height;
        position: relative;
      }
    }

    &-wrap {
      position: relative;
      display: flex;
      align-items: center;
      margin: 0 -.25rem;

      // to override o_main_navbar
      background: transparent;
      border: 0;
      height: $header-height;

      /* > * {
         padding: 0 .25rem;
       }*/

      &-horizontal {
        .o_menu_sections {
          .dropdown.o-dropdown--no-caret {
            padding-right: 0.5rem;

            &:after {
              position: absolute;
              font-family: $os-theme-icon-font;
              top: 50%;
              content: $menu-toggle-icon-ltr;
              right: 0;
              transform: translateY(-50%) rotate(90deg);
              font-size: 1rem;
              color: $base-light;
              transition: transform .3s, color .1s, opacity .3s ease .3s;

              .is-dark &, .is-theme & {
                color: rgba($white, 0.4);
              }

            }
          }
        }


      }

      &, .o_menu_sections, .o_menu_systray {

        .dropdown .dropdown-toggle, .o_nav_entry, .o_menu_toggle, .o_navbar_apps_menu {
          border: 0;
          background: transparent !important;
          color: $base-text;
          font-weight: 500;
          padding: 0 0.5rem;
          transition: color .3s, background-color .3s;

          .is-dark & {
            color: lighten($base-light, 10%) !important;

            &:hover, &:focus {
              color: lighten($base-light, 5%) !important;
            }

            &.active {
              color: lighten($base-light, 5%) !important;
            }
          }

          .is-theme & {
            color: $accent-light !important;

            &:hover, &:focus {
              color: $accent-light !important;
            }

            &.active {
              color: $accent-light !important;
            }
          }

        }

      }


      .o_menu_sections {
        .dropdown.show {
          > .dropdown-toggle {
            color: $base-text;

            .is-dark & {
              color: lighten($base-light, 10%) !important;

              &:hover, &:focus {
                color: lighten($base-light, 5%) !important;
              }

              &.active {
                color: lighten($base-light, 5%) !important;
              }
            }

            .is-theme & {
              color: $white;

              &:hover, &:focus {
                color: darken($white, 5%) !important;
              }

              &.active {
                color: darken($white, 5%) !important;
              }
            }


            &:hover {
              color: $accent-color !important;
            }

            &:focus {
              color: $accent-color !important;
            }
          }
        }
      }

      .o_menu_systray {
        .dropdown.show {
          > .dropdown-toggle {
            color: $base-text;

            .is-dark & {
              color: lighten($base-light, 10%) !important;

              &:hover, &:focus {
                color: lighten($base-light, 5%) !important;
              }

              &.active {
                color: lighten($base-light, 5%) !important;
              }
            }

            .is-theme & {
              color: $accent-light !important;

              &:hover, &:focus {
                color: $accent-light !important;
              }

              &.active {
                color: $accent-light !important;
              }
            }


            &:hover {
              color: $accent-color !important;
            }

            &:focus {
              color: $accent-color !important;
            }
          }
        }

        > div.show {
          > a {
            color: $base-text;

            .is-dark & {
              color: lighten($base-light, 10%) !important;

              &:hover, &:focus {
                color: lighten($base-light, 5%) !important;
              }

              &.active {
                color: lighten($base-light, 5%) !important;
              }
            }

            .is-theme & {
              color: $accent-light !important;

              &:hover, &:focus {
                color: $accent-light !important;
              }

              &.active {
                color: $accent-light !important;
              }
            }


            &:hover {
              color: $accent-color !important;
            }

            &:focus {
              color: $accent-color !important;
            }
          }
        }
      }

      > .o_menu_sections {
        > div.show {
          > a {
            color: $base-text;

            .is-dark & {
              color: lighten($base-light, 10%) !important;

              &:hover, &:focus {
                color: lighten($base-light, 5%) !important;
              }

              &.active {
                color: lighten($base-light, 5%) !important;
              }
            }

            .is-theme & {
              color: $accent-light !important;

              &:hover, &:focus {
                color: $accent-light !important;
              }

              &.active {
                color: $accent-light !important;
              }
            }


            &:hover {
              color: $accent-color !important;
            }

            &:focus {
              color: $accent-color !important;
            }
          }
        }
      }

      .apps_menu .icon {
        color: $accent-color;

        .is-dark &, .is-theme & {
          color: $white;
        }

      }
    }

    &-right {
      align-items: center;
      justify-content: flex-end;
    }

    &-center {
      justify-content: center;
    }

    &-tools {
      margin-left: auto;
      padding-top: $header-main-gap-y;
      padding-bottom: $header-main-gap-y;
    }

    &-brand {
      flex-shrink: 0;
      padding-top: $header-main-gap-y;
      padding-bottom: $header-main-gap-y;
    }

    .dropdown-menu {
      .lead-text {
        color: $base-color;
      }

      .sub-text, .overline-title, .overline-title-alt {
        color: $base-light;
      }
    }

    &-search {
      display: none;

      .form-control {
        background-color: transparent;
        border: none;
      }

      .icon {
        .is-dark & {
          color: $white;
        }

        .is-theme & {
          color: $white;
        }

      }
    }
  }

  &-quick {
    &-nav {
      display: flex;
      align-items: center;

      > div {
        padding: 0 6px;

        &.user-dropdown > a {
          padding: 0 2px;
        }
      }

      &-icon {
        display: inline-flex;
        position: relative;
        font-size: 1.5rem;
        z-index: 1;
        color: $base-text!important;
        padding: 0 0.5rem;

        .is-dark & {
          color: lighten($base-light, 10%) !important;
        }

        .is-theme & {
          color: $accent-light !important;

          &:hover, &.active {
            color: $accent-light !important;
          }
        }

        &.os-nav-toggle {
          .is-theme & {
            color: $accent-light !important;

            &:hover, &.active {
              color: $accent-light !important;
            }
          }
        }


        &:focus {
          box-shadow: none;
        }

        &:hover, &.active {
          color: $accent-color !important;
        }
      }
    }
  }
}

@media (max-width: 359px) {
  .os {
    &-quick {
      &-nav {
        > div {
          padding: 0 3px;
        }
      }
    }
  }
  .hide-mb-xs {
    display: none;
  }
}

@media (max-width: 575px) {
  .hide-mb-sm {
    display: none;
  }
}

@include media-breakpoint-up(sm) {
  .os {
    &-header {
      padding: 0 $header-main-gap-x-sm;

      &-toolsbar {
        padding: 0 $header-main-gap-x-sm;
      }

      &-search {
        display: flex;
        align-items: center;
        flex-grow: 1;
      }
    }

    &-quick {
      &-nav {

        > div {
          //padding: 0 10px;
          padding: 0 3px;
        }
      }
    }
  }
}

@include media-breakpoint-up(lg) {
  .os {
    &-header {
      &-fluid {
        padding-left: 24px;
        padding-right: 24px;
      }
    }
  }
}

@media (min-width: 1660px) {
  .os {
    &-header {
      &-fluid {
        padding-left: 44px;
        padding-right: 44px;
      }
    }
  }
}

.os-header {
  &-menu {
    position: fixed;
    left: 0;
    top: 0;
    width: 280px;
    height: 100vh;
    max-height: 100vh;
    z-index: 999;
    background: $white;
    transform: translateX(-100%);

    &-inner {
      overflow: auto;
      max-height: 100%;
      min-height: 100%;
    }

    &.mobile-menu {
      padding-top: 65px;
      padding-left: 0;
      padding-right: 0;
      transition: transform .4s ease;
    }

    &.os-sidebar-active {
      transform: translateX(0);
    }
  }

  &-mobile {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 28px;
    border-bottom: 1px solid $border-light;

    .logo-dark {
      opacity: 1;
    }

    .logo-light {
      opacity: 0;
    }

    .os-nav-toggle.os-quick-nav-icon {
      color: $base-text;

      &:before {
        background-color: $light-200;
      }
    }
  }

  &-searchbar {
    width: 55%;
  }
}

@include media-breakpoint-up(lg) {
  .os-header {
    &-menu {
      .os-header-mobile {
        display: none;
      }

      position: static;
      background: transparent;
      height: auto;
      max-height: auto;
      border-right: none;
      width: auto;
      padding: 0;
      overflow: visible;
      transform: translateX(0) !important;
    }
  }
}

// Header App Switcher
.os-header {
  &-app {
    &-name {
      display: flex;
      align-items: center;
      flex-shrink: 0;
    }

    &-logo {
      flex-shrink: 0;
      width: 32px;
      height: 32px;
      margin-right: 0.75rem;

      .icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        font-size: 20px;
        color: $accent-color;
        background: rgba($accent-color, .3);
      }
    }

    &-info {
      line-height: 1.3;

      .sub-text {
        font-size: $fx-sz-11;
        margin-bottom: 0.125rem;
      }

      .lead-text {
        font-size: $fx-sz-16;
      }
    }

    &-switch {
      position: relative;

      .os-header-app-name {
        padding: 1.5rem $sidebar-gap-x;
      }

      > a {
        display: block;
        width: 100%;

        &:after {
          position: absolute;
          right: 24px;
          top: 50%;
          transform: translateY(-50%);
          font-size: 1rem;
          content: $osi-chevron-down;
          font-family: $os-theme-icon-font;
        }
      }

      .mobile-menu & {
        width: 100%;
        border-bottom: 1px solid $border-light;
      }

      .toggle-content {
        width: 100%;
        top: 0;
        transform: translateY(0);
        height: calc(100vh - #{$header-height});
        overflow: auto;
        box-shadow: none;
        border-radius: 0;
        background: $white;
      }
    }

    &-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: .75rem $sidebar-gap-x;

      .title {
        font-size: 16px;
        font-weight: $fw-medium;
      }

      .toggle {
        position: relative;
        height: 24px;
        width: 24px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
    }

    &-list {
      li {
        border-bottom: 1px solid $border-light;
      }

      .os-header-app-name {
        padding: 1rem $sidebar-gap-x;
        display: -webkit-inline-box;
        display: -webkit-inline-flex;
        display: inline-flex;
      }
    }
  }
}

@media (max-height: 615px) {
  .os-header {
    &-app {
      &-switch {
        .dropdown-menu {
          max-height: 416px;
          overflow: auto;
        }
      }
    }
  }
}

@include media-breakpoint-up(md) {
  .os-header {
    &-onlymobile {
      display: none;

      + .os-content {
        margin-top: 0;
      }
    }
  }
}

.quick-icon {
  display: inline-flex;
  height: 24px;
  width: 24px;
  border-radius: 50%;

  img.icon {
    border-radius: 50%;
  }
}