<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record id="format_cashier_summary_report" model="report.paperformat">
      <field name="name">Cashier Summary Paper Format</field>
      <field name="default" eval="True" />
      <field name="format">A4</field>
      <field name="page_height">0</field>
      <field name="page_width">0</field>
      <field name="orientation">Landscape</field>
      <field name="margin_top">50</field>
      <field name="margin_bottom">30</field>
      <field name="margin_left">7</field>
      <field name="margin_right">7</field>
      <field name="header_line" eval="False" />
      <field name="header_spacing">10</field>
      <field name="dpi">90</field>
    </record>

    <record model="ir.actions.report" id="action_cashier_summary_report">
      <field name="name">Cashier Summary</field>
      <field name="model">cashier.summary.report</field>
      <field name="report_type">qweb-pdf</field>
      <field name="report_name">hotel_booking_folio.cashier_summary_report</field>
      <field name="report_file">hotel_booking_folio.cashier_summary_report</field>
      <field name="binding_model_id" ref="model_cashier_summary_report" />
      <field name="paperformat_id" ref="hotel_booking_folio.format_cashier_summary_report" />
    </record>

    <template id="cashier_summary_report">
      <t t-call="web.html_container">
        <t t-call="web.external_layout">
          <div class="page" style="font-family:Arial,Helvetica,sans-serif !important;">
            <style>
              table.GeneratedTable {
              width: 100%;
              font-size: 14px;
              color: #000000;
              }

              table.GeneratedTable th, table.GeneratedTable td {
              padding: 0; /* Remove extra padding */
              text-align: center; /* Center align text */
              white-space: nowrap; /* Prevent extra line breaks */
              }

              table.GeneratedTable th {
              background-color: #f5f5f5; /* Optional: Add a light background to headers */
              font-weight: bold;
              padding: 5px; /* Add some padding */
              }

              table.GeneratedTable td {
              font-size: 15px; /* Adjust font size for compactness */
              padding: 5px; /* Add some padding */
              }

              .m-0 {
              margin: 0 !important; /* Remove margins for Bootstrap classes */
              }

              .p-0 {
              padding: 0 !important; /* Remove padding for Bootstrap classes */
              }
            </style>
            <h4 class="text-center" style="text-align:center">Cashier Summary Report</h4>
            <h5 class="text-center" style="text-align:center">
              <t t-esc="datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')" />
            </h5>
            <!-- add from date to data -->
            <h5 class="text-center" style="text-align:center">
              From <t t-esc="start_audit_date" /> - To<t t-esc="end_audit_date" />
            </h5>

            <table class="GeneratedTable m-2">
              <thead>
                <tr>
                  <th class="text-center">
                    <span>Cashier</span>
                  </th>
                  <t t-foreach="journal_ids" t-as="journal">
                    <th class="text-center">
                      <span t-esc="journal" />
                    </th>
                  </t>
                </tr>
              </thead>
              <tbody>
                <t t-foreach="grouped_payments.keys()" t-as="cashier">
                  <tr>
                    <td>
                      <t t-esc="cashier" />
                    </td>
                    <t t-foreach="journal_ids" t-as="journal">
                      <td>
                        <t t-esc="grouped_payments.get(cashier,{}).get(journal,0)"
                          t-options="{'widget': 'float', 'precision': 2}" />
                      </td>
                    </t>
                  </tr>
                  <!-- totals -->
                </t>
                <tr>
                  <td>
                    <b>Total</b>
                  </td>
                  <t t-foreach="journal_ids" t-as="journal">
                    <td>
                      <b>
                        <t t-esc="totals.get(journal,0)"
                          t-options="{'widget': 'float', 'precision': 2}" />
                      </b>
                    </td>
                  </t>
                </tr>
              </tbody>
            </table>
          </div>
        </t>
      </t>
    </template>
  </data>
</odoo>